<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Entity Matching by Similarity Join: Sensitivity</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Entity Matching by Similarity Join
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2developer__notes.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Sensitivity</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>We divide the sensitivity analysis for three parts: <b>blocker</b>, <b>matcher</b> and <b>value matcher</b>.</p>
<ol type="1">
<li>We will select the longest attribute as the most representative attribute for sample / topk (<span style="color:orange">This may be specified by users if there are mutiple long attributes with nearly the same average length).</span></li>
<li><span style="color:orange">The attributes' types may need to be adjustment according to different datasets. Since the <b>py_entitymatching</b>'s attribute type auto-inference may not be precise</span></li>
</ol>
<p><span style="color:orange"></span></p>
<h1><a class="anchor" id="autotoc_md1"></a>
<span style="color:orange">Blocker</span></h1>
<p><span style="color:orange"></p><ol type="1">
<li>We use heap to maintain up to 1e7 results (each thread) for each join algorithms with the largest (smallest for edit distance) sim join values.</li>
<li>We may restrict the join result set's size in addition to that 1e7 restriction to reduce the final output size. However, on Megallen datasets which are small, we will lose roughly ~8% recall.</li>
<li>For the final <a class="el" href="classTopK.html">TopK</a>, we may select the word-weighted (by idf) similarity functions or unweighted, the weighted one has a slightly better performance on Megallen datasets, roughly ~1%. But for secret, unweighted is better (Also for the join <a class="el" href="classTopK.html">TopK</a> in 2, we could also has 2 versions).</li>
<li>For edit distance join, we can not keep a heap to maintain the top result since it will take roughly 8 hours on secret datasets. <br  />
</li>
<li>The practically best way is to only maintain value for attributes which are "str_bt_5w_10w" or "str_gt_10w"</li>
</ol>
<p></span></p>
<p><span style="color:orange"></span></p>
<h1><a class="anchor" id="autotoc_md2"></a>
<span style="color:orange">Matcher</span></h1>
<p><span style="color:orange"></p><ul>
<li><span style="color:green">parameters are same for all datasets</span>.</li>
<li><span style="color:yellow">parameters depend on datasets' sizes / type (self-join or RS-join)</span>.</li>
<li><span style="color:pink">parameters needs to be adjusted according to different datasets</span>.</li>
</ul>
<p></span></p>
<p><span style="color:orange">Parameters: <span style="color:pink">blocking_attr</span>, <span style="color:green">sample_strategy</span>, <span style="color:green">training_strategy</span>, <span style="color:green">move_strategy</span>, <span style="color:green">num_tree</span>, <span style="color:green">sample_size</span>, <span style="color:yellow">inmemory</span>, <span style="color:green">ground_truth_label</span>, <span style="color:pink">cluster_tau</span>, <span style="color:pink">sample_tau</span>, <span style="color:pink">step2_tau</span>, <span style="color:yellow">num_data</span>.</span></p>
<p><span style="color:orange"></p><ul>
<li><span style="color:pink">blocking_attr</span> As stated above, it needs to be selected by a human sometimes.</li>
<li><span style="color:pink">cluster_tau, sample_tau, step2_tau</span> We set different values for Megallen and synethic datasets, but for all datasets with in Megallen (synethic), they share the same values.</li>
<li><span style="color:yellow">inmemory</span> We set this to be true (false) if the table's size is small (large), or if you could afford the expense for training value matcher, then set it always to be true.</li>
<li><span style="color:yellow">num_data</span> This parameter simply depends whether the dataset is self-join or RS-join.</li>
</ul>
<p></span></p>
<p><span style="color:orange"></span></p>
<h1><a class="anchor" id="autotoc_md3"></a>
<span style="color:orange">Value matcher</span></h1>
<p><span style="color:orange"></p><ol type="1">
<li>The threshold for value matcher is default to 0.8 for all settings.</li>
</ol>
<p></span></p>
<p><span style="color:orange"></span></p>
<h1><a class="anchor" id="autotoc_md4"></a>
<span style="color:orange">Issues</span></h1>
<p><span style="color:orange"> </span></p>
<h2><a class="anchor" id="autotoc_md5"></a>
<span style="color:orange">Fixed at this stage</span></h2>
<p><span style="color:orange"></p><ol type="1">
<li>Set join parallel on large datasets with large threshold (e.g., 0.97+) will fail</li>
</ol>
<p></span></p>
<p><span style="color:orange"><span style="color:orange">this is because of adaptive grouping, but further investigation is needed. See the details in "notes.md"</span></span></p>
<p><span style="color:orange"></p><ol type="1">
<li>there may be some miss-commented lines in set join source files</li>
</ol>
<p></span></p>
<p><span style="color:orange"><span style="color:orange">set join works at this stage</span></span></p>
<p><span style="color:orange"></p><ol type="1">
<li>"buffer" folder should contain: <em>clean_A.csv, clean_B.csv, gold.csv, sample_res.csv, feature_name.txt</em></li>
</ol>
<p></span></p>
<p><span style="color:orange"><span style="color:orange">"buffer" folder currently is well-origanized</span></span></p>
<p><span style="color:orange"></span></p>
<h2><a class="anchor" id="autotoc_md6"></a>
<span style="color:orange">To be careful</span></h2>
<p><span style="color:orange"></p><ol type="1">
<li>think about one attribute share different types in different datasets</li>
<li>check all marcos (MAX_PAIR_SIZE &amp; MAX_RES_SIZE refers to the exact same thing)</li>
<li>make three join algorithm classes consistent, e.g., write a base class for them to make the class declaration consistent</li>
<li>there are still some warnings </li>
</ol>
<p></span></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
